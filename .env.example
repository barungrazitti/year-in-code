# ═══════════════════════════════════════════════════════════════════════════════
# Year-in-Review Configuration File
# ═══════════════════════════════════════════════════════════════════════════════
# IMPORTANT: Never commit the actual .env file to version control!
# Only commit .env.example with example values.
# See .gitignore for files that are excluded from git.
# ═══════════════════════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────────────────────
# GITLAB CONFIGURATION
# ─────────────────────────────────────────────────────────────────────────────

# GitLab API Token (REQUIRED if using GitLab)
# Get this from: GitLab → Profile → Settings → Access Tokens
# Requires scope: read_api (minimum)
# Format: glpat_xxxxxxxxxxxxx (typically 20+ characters)
# Example: glpat_Uh37GrtK4Vs-KVAsgUNQ
GITLAB_TOKEN=glpat_YOUR_TOKEN_HERE

# GitLab Base URL
# Default: https://gitlab.com/api/v4 (for GitLab.com)
# For self-hosted: https://gitlab.your-company.com/api/v4
# Important: Must end with /api/v4
GITLAB_BASE_URL=https://gitlab.com/api/v4

# GitLab Single User ID (Username)
# EITHER use GITLAB_USER_ID (single user) OR GITLAB_TEAM_USERS (multiple users)
# Do NOT use both at the same time
# Example: john.doe
GITLAB_USER_ID=your_gitlab_username

# GitLab Team Users (Multiple Users)
# Comma-separated list of GitLab usernames
# Use this for team analytics instead of GITLAB_USER_ID
# Example: alice,bob,charlie,diana
# GITLAB_TEAM_USERS=alice,bob,charlie

# GitLab Project Filter (Optional)
# Comma-separated list of project names to include
# Leave empty to include all projects
# Case-insensitive and supports partial matching
# Example: searchunify.com,support-refocus,platform
# GITLAB_ALLOWED_PROJECTS=project1,project2,project3

# ─────────────────────────────────────────────────────────────────────────────
# GITHUB CONFIGURATION
# ─────────────────────────────────────────────────────────────────────────────

# GitHub API Token (REQUIRED if using GitHub)
# Get this from: GitHub → Settings → Developer settings → Personal access tokens
# Requires scope: read:user (minimum)
# Format: ghp_xxxxxxxxxxxxx (typically 36+ characters)
# Example: ghp_xxxxxxxxxxxxxxxxxxxx
# GITHUB_TOKEN=ghp_YOUR_TOKEN_HERE

# GitHub Username
# Your GitHub login/username
# Case-sensitive
# Example: octocat
# GITHUB_USERNAME=your_github_username

# GitHub Repository Filter (Optional)
# Comma-separated list of repository names to include
# Leave empty to include all repositories
# Case-insensitive and supports partial matching
# Example: frontend-app,api-server,infrastructure
# GITHUB_ALLOWED_REPOS=repo1,repo2,repo3

# ─────────────────────────────────────────────────────────────────────────────
# GENERAL CONFIGURATION
# ─────────────────────────────────────────────────────────────────────────────

# Year to Analyze
# Default: Current year (auto-calculated if not set)
# Format: YYYY (e.g., 2025, 2024)
# Example: 2025
YEAR=2025

# Output Filename (Optional)
# If not specified, auto-generated based on platforms and configuration
# Format: filename.md
# Example: my-report-2025.md
# OUTPUT_FILENAME=year-in-review-2025.md

# Output Format (Optional)
# Currently only supports: markdown
# Default: markdown
# OUTPUT_FORMAT=markdown

# ─────────────────────────────────────────────────────────────────────────────
# API CONFIGURATION (Advanced)
# ─────────────────────────────────────────────────────────────────────────────

# API Request Timeout (milliseconds)
# Default: 30000 (30 seconds)
# Increase if experiencing timeout errors with large datasets
# Minimum: 10000 (10 seconds)
# Example: 60000 (for slower connections)
API_TIMEOUT=30000

# Maximum Retries for Failed Requests
# Default: 3
# How many times to retry a failed API request
# Example: 5
MAX_RETRIES=3

# Results Per Page (Pagination)
# Default: 100
# How many results to fetch per API page
# Lower values: More requests but less memory
# Higher values: Fewer requests but more memory
# Range: 1-100
# Example: 50 (for memory constraints)
PER_PAGE=100

# ═══════════════════════════════════════════════════════════════════════════════
# CONFIGURATION EXAMPLES
# ═══════════════════════════════════════════════════════════════════════════════

# EXAMPLE 1: GitLab Only (Single User)
# ─────────────────────────────────────────────────────────────────────────────
# Uncomment and fill in to use
# GITLAB_TOKEN=glpat_xxxxxxxxxxxx
# GITLAB_USER_ID=john.doe
# YEAR=2025

# EXAMPLE 2: GitHub Only
# ─────────────────────────────────────────────────────────────────────────────
# Uncomment and fill in to use
# GITHUB_TOKEN=ghp_xxxxxxxxxxxx
# GITHUB_USERNAME=octocat
# YEAR=2025

# EXAMPLE 3: Both Platforms (Combined Report)
# ─────────────────────────────────────────────────────────────────────────────
# Uncomment and fill in to use
# GITLAB_TOKEN=glpat_xxxxxxxxxxxx
# GITLAB_USER_ID=john.doe
# GITHUB_TOKEN=ghp_xxxxxxxxxxxx
# GITHUB_USERNAME=octocat
# YEAR=2025

# EXAMPLE 4: GitLab Team Analytics
# ─────────────────────────────────────────────────────────────────────────────
# Uncomment and fill in to use
# GITLAB_TOKEN=glpat_xxxxxxxxxxxx
# GITLAB_TEAM_USERS=alice,bob,charlie,diana
# YEAR=2025

# EXAMPLE 5: With Project Filtering
# ─────────────────────────────────────────────────────────────────────────────
# Uncomment and fill in to use
# GITLAB_TOKEN=glpat_xxxxxxxxxxxx
# GITLAB_USER_ID=john.doe
# GITLAB_ALLOWED_PROJECTS=frontend,backend,devops
# GITHUB_TOKEN=ghp_xxxxxxxxxxxx
# GITHUB_USERNAME=octocat
# GITHUB_ALLOWED_REPOS=frontend-app,api-server
# YEAR=2025

# EXAMPLE 6: Self-Hosted GitLab
# ─────────────────────────────────────────────────────────────────────────────
# Uncomment and fill in to use
# GITLAB_TOKEN=glpat_xxxxxxxxxxxx
# GITLAB_BASE_URL=https://gitlab.company.com/api/v4
# GITLAB_USER_ID=john.doe
# YEAR=2025

# EXAMPLE 7: Multiple Years Analysis (Run Multiple Times)
# ─────────────────────────────────────────────────────────────────────────────
# Use different YEAR values to analyze different years
# GITLAB_TOKEN=glpat_xxxxxxxxxxxx
# GITLAB_USER_ID=john.doe
# # Run these commands separately:
# # YEAR=2023 npm start
# # YEAR=2024 npm start
# # YEAR=2025 npm start

# ═══════════════════════════════════════════════════════════════════════════════
# HOW TO GET API TOKENS
# ═══════════════════════════════════════════════════════════════════════════════

# GitLab Token:
# 1. Go to your GitLab instance (gitlab.com or self-hosted)
# 2. Click on your profile picture (top-right corner)
# 3. Select "Edit profile" or "Settings"
# 4. Go to "Access tokens" or "Personal access tokens"
# 5. Create new token with scope: read_api (minimum)
# 6. Copy the token and paste to GITLAB_TOKEN below

# GitHub Token:
# 1. Go to https://github.com/settings/developer-settings
# 2. Click "Personal access tokens" → "Tokens (classic)"
# 3. Click "Generate new token"
# 4. Select scope: read:user (minimum)
# 5. Copy the token and paste to GITHUB_TOKEN below

# ═══════════════════════════════════════════════════════════════════════════════
# IMPORTANT SECURITY NOTES
# ═══════════════════════════════════════════════════════════════════════════════

# ⚠️  NEVER commit the .env file to git!
# → Use only .env.example with example values
# → See .gitignore to ensure .env is excluded

# ⚠️  NEVER share your .env file or API tokens
# → Tokens should be kept secret
# → Treat them like passwords

# ⚠️  Use minimum required permissions
# → GitLab: read_api scope only
# → GitHub: read:user scope only
# → Don't grant unnecessary admin permissions

# ⚠️  Rotate tokens periodically
# → Change your tokens every 6-12 months
# → Regenerate tokens if they may be compromised

# ⚠️  Use different tokens for different environments
# → Production, staging, development: separate tokens
# → Makes it easier to audit and revoke if needed

# ═══════════════════════════════════════════════════════════════════════════════
# SETUP INSTRUCTIONS
# ═══════════════════════════════════════════════════════════════════════════════

# Step 1: Copy this file to create actual configuration
#   cp .env.example .env

# Step 2: Edit the .env file (NOT this file!)
#   nano .env  (or use your preferred editor: vim, code, etc.)

# Step 3: Uncomment and fill in your actual credentials
#   - Replace YOUR_TOKEN_HERE with your actual GitLab token
#   - Replace your_gitlab_username with your actual GitLab username
#   - Do the same for GitHub if using GitHub

# Step 4: Verify .env is in .gitignore (it should be!)
#   cat .gitignore | grep ".env"

# Step 5: Run the application
#   npm install  (if first time)
#   npm start

# Step 6: Check the generated report
#   The report will be created in the current directory
#   Example: gitlab-year-in-review-2025.md

# ═══════════════════════════════════════════════════════════════════════════════
# TROUBLESHOOTING
# ═══════════════════════════════════════════════════════════════════════════════

# Problem: "Configuration errors: At least one platform must be configured"
# Solution: Uncomment and fill in either GitLab OR GitHub credentials
#           GITLAB_TOKEN and GITLAB_USER_ID OR
#           GITHUB_TOKEN and GITHUB_USERNAME

# Problem: "User not found"
# Solution: - Check username spelling (case-sensitive for GitHub)
#           - Verify token is valid and not expired
#           - Ensure token has correct permissions

# Problem: "API timeout"
# Solution: - Increase API_TIMEOUT value (e.g., 60000 instead of 30000)
#           - Try reducing PER_PAGE (e.g., 50 instead of 100)
#           - Check your internet connection

# Problem: "Rate limit exceeded"
# Solution: - Wait for rate limit reset (usually 1 hour)
#           - Use a better authenticated token
#           - For GitHub: Personal token has higher limits

# ═══════════════════════════════════════════════════════════════════════════════
# ADDITIONAL RESOURCES
# ═══════════════════════════════════════════════════════════════════════════════

# Documentation:
# - README.md ........................ Quick start guide
# - PRODUCTION_README.md ............ Production guide with use cases
# - QUICK_REFERENCE.md ............. Quick lookup
# - API_DOCUMENTATION.md ........... Function reference

# Token Setup Guides:
# - GitLab: https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html
# - GitHub: https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token

# ═══════════════════════════════════════════════════════════════════════════════
